{
    "id": "43316",
    "text": "Mail relay diagram An open mail relay is a Simple Mail Transfer Protocol (SMTP) server configured in such a way that it allows anyone on the Internet to send e-mail through it, not just mail destined to or originating from known users. This used to be the default configuration in many mail servers; indeed, it was the way the Internet was initially set up, but open mail relays have become unpopular because of their exploitation by spammers and worms. Many relays were closed, or were placed on blacklists by other servers. == History and technology == Until the 1990s, mail servers were commonly intentionally configured as open relays; in fact, this was frequently the installation default setting. The traditional store and forward method of relaying e-mail to its destination required that it was passed from computer to computer (through and beyond the Internet) via modems on telephone lines. For many early networks, such as UUCPNET, FidoNet and BITNET, lists of machines that were open relays were a core part of those networks. Filtering and speed of e-mail delivery were not priorities at that time and in any case the government and educational servers that were initially on the Internet were covered by a federal edict forbidding the transfer of commercial messages.RFC 1192 Commercialization of the Internet == Abuse by spammers == In the mid-1990s, with the rise of spamming, spammers resorted to re-routing their e-mail through third party e-mail servers to avoid detection and to exploit the additional resources of these open relay servers. Spammers would send one e-mail to the open relay and (effectively) include a large blind carbon copy list, then the open relay would relay that spam to the entire list.Open Relay. What does it mean? While this greatly reduced the bandwidth requirements for spammers at a time when Internet connections were limited, it forced each spam to be an exact copy and thus easier to detect. After abuse by spammers became widespread, operating an open relay came to be frowned upon among the majority of Internet server administrators and other prominent users. Open relays are recommended against in RFC 2505 and RFC 5321 (which defines SMTP). The exact copy nature of spam using open relays made it easy to create bulk e-mail detection systems such as Vipul's Razor and the Distributed Checksum Clearinghouse. To counter this, spammers were forced to switch to using hash busters to make them less effective and the advantage of using open relays was removed since every copy of spam was \"unique\" and had to be sent individually. Since open mail relays make no effort to authenticate the sender of an e-mail, open mail relays are vulnerable to address spoofing. == Anti-spam efforts == Many Internet service providers use Domain Name System-based Blackhole Lists (DNSBL) to disallow mail from open relays. Once a mail server is detected or reported that allows third parties to send mail through them, they will be added to one or more such lists, and other e-mail servers using those lists will reject any mail coming from those sites. The relay need not actually be used for sending spam to be blacklisted; instead, it may be blacklisted after a simple test that just confirms open access. This trend reduced the percentage of mail senders that were open relays from over 90% down to well under 1% over several years. This led spammers to adopt other techniques, such as the use of botnets of zombie computers to send spam. One consequence of the new unacceptability of open relays was an inconvenience for some end users and certain Internet service providers. To allow customers to use their e-mail addresses at Internet locations other than the company's systems (such as at school or work), many mail sites explicitly allowed open relaying so that customers could send e-mail via the ISP from any location. Once open relay became unacceptable because of abuse (and unusable because of blocking of open relays), ISPs and other sites had to adopt new protocols to allow remote users to send mail. These include smart hosts, SMTP-AUTH, POP before SMTP, and the use of virtual private networks (VPNs). The Internet Engineering Task Force (IETF) has written a best current practices covering Email Submission Operations in RFC 5068. Note that the above only becomes an issue if the user wishes to (or has to) continue to send e-mail remotely, using the same SMTP server which they were previously accessing locally. If they have valid access to some other SMTP server from their new, remote location, then they will typically be able to use that new server to send e-mails as if from their old address, even when this server is properly secured. (Although this may involve some reconfiguration of the user's email client which may not be entirely straightforward.) The CAN-SPAM Act of 2003 makes it illegal to send spam through an open relay in the United States, but makes no provision on their use for personal e-mail or their operation in general; the effectiveness of the act has been questioned.United States: A New Weapon in The Fight Against SpamIs the CAN-SPAM Law Working? == Modern-day proponents == The most famous open mail relay operating today is probably that of John Gilmore, who argues that running an open relay is a freedom of speech issue. His server is included on many open relay blacklists (many of which are generated by \"automatic detection\", that is, by anti-spam blacklisters sending an (unsolicited) test e-mail to other servers to see if they will be relayed). These measures cause much of his outgoing e-mail to be blocked. Along with his further deliberate configuration of the server, his open relay enables people to send e-mail without their IP address being directly visible to the recipient and thereby send e-mail anonymously. In 2002, his open relay, along with 24 others, was used by a computer worm to propagate itself. John Gilmore and other open relay proponents declare that they do not support spam and spamming, but see bigger threat in attempts to limit Web capabilities that may block evolution of the new, next generation technologies. They compare the network communication restrictions with restrictions that some phone companies tried to place on their lines in the past, preventing transferring of computer data rather than speech. == Closing relays == In order not to be considered \"open\", an e-mail relay should be secure and configured to accept and forward only the following messages (details will vary from system to system \u2014 in particular, further restrictions may well apply): * Messages from local IP addresses to local mailboxes * Messages from local IP addresses to non-local mailboxes * Messages from non-local IP addresses to local mailboxes * Messages from clients that are authenticated and authorized In particular, a properly secured SMTP mail relay should not accept and forward arbitrary e-mails from non-local IP addresses to non-local mailboxes by an unauthenticated or unauthorized user. In general, any other rules an administrator chooses to enforce (for instance, based on what an e-mail gives as its own envelope from address) must be in addition to, rather than instead of, the above. If not, the relay is still effectively open (for instance, by the above rules): it is easy to forge e-mail header and envelope information, it is considerably harder to successfully forge an IP address in a TCP/IP transaction because of the three-way handshake that occurs as a connection is started. Open relays have also resulted from security flaws in software, rather than misconfiguration by system administrators. In these cases, security patches need to be applied to close the relay. Internet initiatives to close open relays have ultimately missed their intended purpose, because spammers have created distributed botnets of zombie computers that contain malware with mail relaying capability. The number of clients under spammers' control is now so great that previous anti-spam countermeasures that focused on closing open relays are no longer effective. == See also == * Relay (disambiguation) == References == Category:Email Category:Spamming ",
    "title": "Open mail relay"
}