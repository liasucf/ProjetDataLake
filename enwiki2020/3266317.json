{
    "id": "3266317",
    "text": "The PS/2 port is a 6-pin mini-DIN connector used for connecting keyboards and mice to a PC compatible computer system. Its name comes from the IBM Personal System/2 series of personal computers, with which it was introduced in 1987. The PS/2 mouse connector generally replaced the older DE-9 RS-232 \"serial mouse\" connector, while the PS/2 keyboard connector replaced the larger 5-pin/180\u00b0 DIN connector used in the IBM PC/AT design. The PS/2 keyboard port is electrically and logically identical to the IBM AT keyboard port, differing only in the type of electrical connector used. The PS/2 platform introduced a second port with the same design as the keyboard port for use to connect a mouse; thus the PS/2-style keyboard and mouse interfaces are electrically similar and employ the same communication protocol. However, unlike the otherwise similar Apple Desktop Bus connector used by Apple, a given system's keyboard and mouse port may not be interchangeable since the two devices use different sets of commands and the device drivers generally are hard-coded to communicate with each device at the address of the port that is conventionally assigned to that device. (That is, keyboard drivers are written to use the first port, and mouse drivers are written to use the second port.There is actually no technical reason that either port could not work with either type of device, if appropriate software was written to support that arrangement.) == Communication protocol == Each port implements a bidirectional synchronous serial channel.http://www.computer-engineering.org/ps2mouse/ The channel is slightly asymmetrical: it favors transmission from the input device to the computer, which is the majority case. The bidirectional IBM AT and PS/2 keyboard interface is a development of the unidirectional IBM PC keyboard interface, using the same signal lines but adding capability to send data back to the keyboard from the computer; this explains the asymmetry.Compare the logic diagrams in the IBM Personal Computer Technical Reference manual with those in the IBM Personal Computer AT Technical Reference manual. The interface has two main signal lines, Data and Clock. These are single-ended signals driven by open-collector drivers at each end. Normally, the transmission is from the device to the computer; then, the attached peripheral device generates the Clock signal. To transmit a byte, the device simply outputs a serial frame of data (including 8 bits of data and a parity bit) on the Data line serially as it toggles the Clock line once for each bit. The host controls the direction of communication using the Clock line; when the host pulls it low, communication from the attached device is inhibited. The host can interrupt the device by pulling Clock low while the device is transmitting; the device can detect this by Clock staying low when the device releases it to go high as the device-generated clock signal toggles. When the host pulls Clock low, the device must immediately stop transmitting and release Clock and Data to both float high. (So far, all of this is the same as the unidirectional communication protocol of the IBM PC keyboard port, though the serial frame formats differ.) The computer can use this state of the interface simply to inhibit the device from transmitting when the computer is not ready to receive. (For the IBM PC keyboard port, this was the only normal use of signalling from the computer to the keyboard. The keyboard could not be commanded to retransmit a keyboard scan code after it had been sent, since there was no reverse data channel to carry commands to the keyboard, so the only way to avoid losing scan codes when the computer was too busy to receive them was to inhibit the keyboard from sending them until the computer was ready. This mode of operation is still an option on the IBM AT and PS/2 keyboard port.)IBM Personal Computer Technical Reference, IBM Personal Computer AT Technical Reference To send a byte of data back to the keyboard, the computer pulls Clock low, waits briefly, then toggles it with a clock signal generated by the computer, while outputting a frame of bits on the Data line, one bit per Clock pulse, just as the attached device would do to transmit in the other direction. The device defers to the control of the computer over the Clock line and receives the data byte. (A keyboard normally interprets this byte as a command or a parameter byte for a preceding command.) The computer releases the Clock line when it is done. The device will not attempt to transmit to the computer until both Clock and Data have been high for a minimum period of time.IBM Personal Computer AT Technical Reference Transmission from the device to the computer is favored because from the normal idle state, the device does not have to seize the channel before it can transmit--the device just begins transmitting immediately. In contrast, the computer must seize the channel by pulling the Clock line low and waiting for the device to have time to release the channel and prepare to receive; only then can the computer begin to transmit data. == Port availability == Older laptops and most contemporary motherboards have a single port that supports either a keyboard or a mouse. Sometimes the port also allows one of the devices to be connected to the two normally unused pins in the connector to allow both to be connected at once through a special splitter cable. This configuration is common on IBM/Lenovo Thinkpad notebooks among many others. The PS/2 keyboard interface is electrically the same as the 5-pin DIN connector on earlier AT keyboards, and keyboards designed for one can be connected to the other with a simple wiring adapter. Such wiring adapters and adapter cables were once commonly available for sale. Note that IBM PC and PC XT keyboards use a different unidirectional protocol with the same DIN connector as AT keyboards, so though a PC or XT keyboard can be connected to PS/2 port using a wiring adapter intended for an AT keyboard, the earlier keyboard will not work with the PS/2 port. (At least, it cannot work with normal PS/2 keyboard driver software, including the system BIOS keyboard driver.) In contrast to this, the PS/2 mouse interface is substantially different from RS-232 (which was generally used for mice on PCs without PS/2 ports), but nonetheless many mice were made that could operate on both with a simple passive wiring adapter, where the mice would detect the presence of the adapter based on its wiring and then switch protocols accordingly. PS/2 mouse and keyboard connectors have also been used in non-IBM PC-compatible computer systems, such as the DEC AlphaStation line, early IBM RS/6000 CHRP machines and SGI Indy, Indigo 2, and newer (Octane, etc.) computers. Macintosh clone computers based on the \"LPX-40\" logic board design featured PS/2 mouse and keyboard ports, including the Motorola StarMax and the Power Computing PowerBase. === Legacy port status and USB === PS/2 is now considered a legacy port, with USB ports now normally preferred for connecting keyboards and mice. This dates back at least as far as the Intel/Microsoft PC 2001 specification of 2000. However, PS/2 ports continue to be included on many computer motherboards, and are favored by some users, for various reasons including the following: * PS/2 ports may be favored for security reasons in a corporate environment as they allow USB ports to be totally disabled, preventing the connection of any USB removable disks and malicious USB devices. * The PS/2 interface provides no restriction on key rollover, although USB keyboards have no such restriction either, unless operated in BOOT mode, which is the exception. * To free USB ports for other uses like removable USB devices. * Some USB keyboards may not be able to operate the BIOS on certain motherboards due to driver issues or lack of support. The PS/2 interface has near-universal compatibility with BIOS. ==== Latency of mice ==== USB mice send data faster than PS/2 mice because standard USB mice are polled at a default rate of 125 hertz while standard PS/2 mice send interrupts at a default rate of 100 Hz when they have data to send to the computer. However, PS2 mice and keyboards are favored by many gamers because they essentially have zero latency through the port. There is no \"polling\" needed by the OS. The device notifies the OS when it's time to receive a packet of data from it.http://eu.cybergamer.com/forums/thread/260663/Mouse-Optimization- Guide:-Acceleration-Fix-and-Polling- Rate/http://web.fe.up.pt/~pfs/aulas/lcom2012/labs/lab5/lab5.html Also, USB mice do not cause the USB controller to interrupt the system when they have no status change to report according to the USB HID specification's default profile for mice. Both PS/2 and USB allow the sample rate to be overridden, with PS/2 supporting a sampling rate of up to 200 Hz and USB supporting a polling rate up to 1 kHz as long as the mouse runs at full-speed USB speeds or higher. ==== USB key rollover limitations ==== The USB HID keyboard interface requires that it explicitly handle key rollover, with the full HID keyboard class supporting n-key rollover. However, the USB boot keyboard class (designed to allow the BIOS to easily provide a keyboard in the absence of OS USB HID support) only allows 6-key rollover. Some keyboard peripherals support only the latter class, and some OSes may fail to switch to using the full HID keyboard class with a device after boot. === Conversion between PS/2 and USB === Many keyboards and mice were specifically designed to support both the USB and the PS/2 interfaces and protocols, selecting the appropriate connection type at power-on. Such devices are generally equipped with a USB connector and ship with a passive wiring adapter to allow connection to a PS/2 port. Such passive adapters are not standardized and may therefore be specific to the device they came with. They cannot be used to adapt other devices to PS/2 ports. While combi-devices supporting USB and PS/2 are still available, most USB keyboards and mice in the 2010s no longer come with adapters or even support the PS/2 protocol. Connecting them to a PS/2 port would require a protocol converter, actively translating between the protocols. Such adapters only support certain classes of USB devices such as keyboards and mice, but are not model- or vendor-specific. Older PS/2-only peripherals can be connected to a USB port via an active converter, which generally provides a pair of PS/2 ports (which may be designated as one keyboard and one mouse, even though both ports may support both protocols) at the cost of one USB port on the host computer. == Color code == Original PS/2 connectors were black or had the same color as the connecting cable (mainly white). Later the PC 97 standard introduced a color code: the keyboard port, and the plugs on compliant keyboards, were purple; mouse ports and plugs were green. (Some vendors initially used a different color code; Logitech used the color orange for the keyboard connector for a short period, but soon switched to purple.) Today this code is still used on most PCs. The pinouts of the connectors are the same, but most computers will not recognize devices connected to the wrong port. {| class=\"wikitable\" |- ! colspan=\"2\" | Color ! Description |- |style=\"background:#d0a0ff\"| | Purple | Keyboard |- |style=\"background:#00DD77\"| | Green | Mouse |} == Hardware issues == === Hotplugging === PS/2 ports are designed to connect the digital I/O lines of the microcontroller in the external device directly to the digital lines of the microcontroller on the motherboard. They are not designed to be hot swappable. Hot swapping PS/2 devices usually does not cause damage because more modern microcontrollers tend to have more robust I/O lines built into them which are harder to damage than those of older controllers; however, hot swapping can still potentially cause damage on older machines, or machines with less robust port implementations. If they are hot swapped, the devices must be similar enough that the driver running on the host system recognizes and can be used with the new device. Otherwise, the new device will not function properly. While this is seldom an issue with standard keyboard devices, the host system rarely recognizes the new device attached to the PS/2 mouse port. In practice most keyboards can be hot swapped but this should be avoided. === Durability === Bus powered PS/2-to-USB adapter PS/2 connectors are not designed to be plugged in and out very often, which can lead to bent or broken pins. Additionally, PS/2 connectors only insert in one direction and must be rotated correctly before attempting connection. (If a user attempts to insert the connector in the wrong orientation and then tries to rotate it to the correct orientation without first pulling it out, then bent pins could result.) Most but not all connectors include an arrow or flat section which is usually aligned to the right or top of the jack before being plugged in. The exact direction may vary on older or non-ATX computers and care should be taken to avoid damaged or bent pins when connecting devices. This issue is slightly alleviated in modern times with the advent of the PS/2-to-USB adapter: users can just leave a PS/2 connector plugged into the PS/2-to-USB adapter at all times and not risk damaging the pins this way. A USB-to-PS/2 adapter does not have this problem. === Fault isolation === In a standard implementation both PS/2 ports are usually controlled by a single microcontroller on the motherboard. This makes design and manufacturing extremely simple and cheap. However, a rare side effect of this design is that a malfunctioning device can cause the controller to become confused, resulting in both devices acting erratically. (A well designed and programmed controller will not behave in this way.) The resulting problems can be difficult to troubleshoot (e.g., a bad mouse can cause problems that appear to be the fault of the keyboard and vice versa). == See also == * BIOS interrupt call * DIN connector on IBM PC keyboards * Bus mouse * Connections on mice * DE-9 connector * USB == References == == External links == * * . * . * . Category:Computer connectors Category:Deutsches Institut f\u00fcr Normung Category:Computer keyboards Category:Pointing devices Category:Computer- related introductions in 1987 Category:Computer hardware standards ",
    "title": "PS/2 port"
}