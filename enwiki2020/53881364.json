{
    "id": "53881364",
    "text": "The total operating characteristic (TOC) is a statistical method to compare a Boolean variable versus a rank variable. TOC can measure the ability of an index variable to diagnose either presence or absence of a characteristic. The diagnosis of presence or absence depends on whether the value of the index is above a threshold. TOC considers multiple possible thresholds. Each threshold generates a two-by-two contingency table, which contains four entries: hits, misses, false alarms, and correct rejections. The receiver operating characteristic (ROC) also characterizes diagnostic ability, although ROC reveals less information than the TOC. For each threshold, ROC reveals two ratios, hits/(hits + misses) and false alarms/(false alarms + correct rejections), while TOC shows the total information in the contingency table for each threshold. The TOC method reveals all of the information that the ROC method provides, plus additional important information that ROC does not reveal, i.e. the size of every entry in the contingency table for each threshold. TOC also provides the popular area under the curve (AUC) of the ROC. TOC is applicable to measure diagnostic ability in many fields including but not limited to: land change science, medical imaging, weather forecasting, remote sensing, and materials testing. ==Basic concept== The procedure to construct the TOC curve compares the Boolean variable to the index variable by diagnosing each observation as either presence or absence, depending on how the index relates to various thresholds. If an observation's index is greater than or equal to a threshold, then the observation is diagnosed as presence, otherwise the observation is diagnosed as absence. The contingency table that results from the comparison between the Boolean variable and the diagnosis for a single threshold has four central entries. The four central entries are hits (H), misses (M), false alarms (F), and correct rejections (C). The total number of observations is P + Q. The terms \u201ctrue positives\u201d, \u201cfalse negatives\u201d, \u201cfalse positives\u201d and \u201ctrue negatives\u201d are equivalent to hits, misses, false alarms and correct rejections, respectively. The entries can be formulated in a two-by-two contingency table or confusion matrix, as follows: {| class=\"wikitable\" style=\"border:none; float:left; margin-top:0;\" !style=\"background:white; border:none;\" colspan=\"2\" rowspan=\"2\"| !colspan=\"2\" | Boolean !style=\"background:white; border:none;\" colspan=\"1\" rowspan=\"1\"| |- !Presence !Absence !style=\"background:white; border:none;\"|Diagnosis total |- !rowspan=\"2\" style=\"height:6em;\"| Diagnosis !Presence |Hits (H) |False alarms (F) |style=\"background:white; border:none;\"|H + F |- !Absence |Misses (M) |Correct rejections (C) |style=\"background:white; border:none;\"|M + C |- !style=\"background:white; border:none;\" colspan=\"1\" rowspan=\"1\"| !style=\"background:white; border:none;\"|Boolean total |style=\"background:white; border:none;\"|H + M = P |style=\"background:white; border:none;\"|F + C = Q |style=\"background:white; border:none;\"|P + Q |- |} Four bits of information determine all the entries in the contingency table, including its marginal totals. For example, if we know H, M, F, and C, then we can compute all the marginal totals for any threshold. Alternatively, if we know H/P, F/Q, P, and Q, then we can compute all the entries in the table. Two bits of information are not sufficient to complete the contingency table. For example, if we know only H/P and F/Q, which is what ROC shows, then it is impossible to know all the entries in the table. ==History== Robert Gilmore Pontius Jr, professor of Geography at Clark University, and Kangping Si in 2014 first developed the TOC for application in land change science. ==TOC space== TOC labeled The TOC curve with four boxes indicates how a point on the TOC curve reveals the hits, misses, false alarms, and correct rejections. The TOC curve is an effective way to show the total information in the contingency table for all thresholds. The data used to create this TOC curve is available for download here. This dataset has 30 observations, each of which consists of values for a Boolean variable and an index variable. The observations are ranked from the greatest to the least value of the index. There are 31 thresholds, consisting of the 30 values of the index and one additional threshold that is greater than all the index values, which creates the point at the origin (0,0). Each point is labeled to indicate the value of each threshold. The horizontal axes ranges from 0 to 30 which is the number of observations in the dataset (P + Q). The vertical axis ranges from 0 to 10, which is the Boolean variable's number of presence observations P (i.e. hits + misses). TOC curves also show the threshold at which the diagnosed amount of presence matches the Boolean amount of presence, which is the threshold point that lies directly under the point where the maximum line meets the hits + misses line, as the TOC curve on the left illustrates. For a more detailed explanation of the construction of the TOC curve, please see Pontius Jr, Robert Gilmore; Si, Kangping (2014). \"The total operating characteristic to measure diagnostic ability for multiple thresholds.\" International Journal of Geographical Information Science 28 (3): 570\u2013583.\u201d The following four pieces of information are the central entries in the contingency table for each threshold: #The number of hits at each threshold is the distance between the threshold's point and the horizontal axis. #The number of misses at each threshold is the distance between the threshold's point and the hits + misses horizontal line across the top of the graph. #The number of false alarms at each threshold is the distance between threshold's point and the blue dashed Maximum line that bounds the left side of the TOC space. #The number of correct rejections at each threshold is the distance between the threshold's point and the purple dashed Minimum line that bounds the right side of the TOC space. ==TOC vs. ROC curves== TOC curve ROC curve These figures are the TOC and ROC curves using the same data and thresholds. Consider the point that corresponds to a threshold of 74. The TOC curve shows the number of hits, which is 3, and hence the number of misses, which is 7. Additionally, the TOC curve shows that the number of false alarms is 4 and the number of correct rejections is 16. At any given point in the ROC curve, it is possible to glean values for the ratios of false alarms/(false alarms+correct rejections) and hits/(hits+misses). For example, at threshold 74, it is evident that the x coordinate is 0.3 and the y coordinate is 0.2. However, these two values are insufficient to construct all entries of the underlying two-by-two contingency table. ==Interpreting TOC curves== It is common to report the area under the curve (AUC) to summarize a TOC or ROC curve. However, condensing diagnostic ability into a single number fails to appreciate the shape of the curve. The following three TOC curves are TOC curves that have an AUC of 0.75 but have different shapes. TOC curve with higher accuracy at high thresholds. This TOC curve on the left exemplifies an instance in which the index variable has a high diagnostic ability at high thresholds near the origin, but random diagnostic ability at low thresholds near the upper right of the curve. The curve shows accurate diagnosis of presence until the curve reaches a threshold of 86. The curve then levels off and predicts around the random line. TOC curve with medium accuracy at all thresholds. This TOC curve exemplifies an instance in which the index variable has a medium diagnostic ability at all thresholds. The curve is consistently above the random line. TOC curve with higher accuracy at lower thresholds. This TOC curve exemplifies an instance in which the index variable has random diagnostic ability at high thresholds and high diagnostic ability at low thresholds. The curve follows the random line at the highest thresholds near the origin, then the index variable diagnoses absence correctly as thresholds decrease near the upper right corner. ==Area under the curve== When measuring diagnostic ability, a commonly reported measure is the area under the curve (AUC). The AUC is calculable from the TOC and the ROC. The value of the AUC is consistent for the same data whether you are calculating the area under the curve for a TOC curve or a ROC curve. The AUC indicates the probability that the diagnosis ranks a randomly chosen observation of Boolean presence higher than a randomly chosen observation of Boolean absence. The AUC is appealing to many researchers because AUC summarizes diagnostic ability in a single number, however, the AUC has come under critique as a potentially misleading measure, especially for spatially explicit analyses. Some features of the AUC that draw criticism include the fact that 1) AUC ignores the thresholds; 2) AUC summarizes the test performance over regions of the TOC or ROC space in which one would rarely operate; 3) AUC weighs omission and commission errors equally; 4) AUC does not give information about the spatial distribution of model errors; and, 5) the selection of spatial extent highly influences the rate of accurately diagnosed absences and the AUC scores. However, most of those criticisms apply to many other metrics. When using normalized units, the area under the curve (often referred to as simply the AUC) is equal to the probability that a classifier will rank a randomly chosen positive instance higher than a randomly chosen negative one (assuming 'positive' ranks higher than 'negative').Fawcett, Tom (2006); An introduction to ROC analysis, Pattern Recognition Letters, 27, 861\u2013874. This can be seen as follows: the area under the curve is given by (the integral boundaries are reversed as large T has a lower value on the x-axis) :TPR(T): T \\rightarrow y(x) :FPR(T): T \\rightarrow x : A = \\int_{x=0}^{1} \\mbox{TPR}(\\mbox{FPR}^{-1}(x)) \\, dx = \\int_{\\infty}^{-\\infty} \\mbox{TPR}(T) \\mbox{FPR}'(T) \\, dT = \\int_{-\\infty}^{\\infty} \\int_{-\\infty}^{\\infty} I(T'>T)f_1(T') f_0(T) \\, dT' \\, dT = P(X_1 > X_0) where X_1 is the score for a positive instance and X_0 is the score for a negative instance, and f_0 and f_1 are probability densities as defined in previous section. It can further be shown that the AUC is closely related to the Mann\u2013Whitney U, which tests whether positives are ranked higher than negatives. It is also equivalent to the Wilcoxon test of ranks. The AUC is related to the Gini coefficient (G_1) by the formula G_1 = 2 \\mbox{AUC} - 1, where: :G_1 = 1 - \\sum_{k=1}^n (X_{k} - X_{k-1}) (Y_k + Y_{k-1})Hand, David J.; and Till, Robert J. (2001); A simple generalization of the area under the ROC curve for multiple class classification problems, Machine Learning, 45, 171\u2013186. In this way, it is possible to calculate the AUC by using an average of a number of trapezoidal approximations. It is also common to calculate the area under the TOC convex hull (ROC AUCH = ROCH AUC) as any point on the line segment between two prediction results can be achieved by randomly using one or the other system with probabilities proportional to the relative length of the opposite component of the segment. It is also possible to invert concavities \u2013 just as in the figure the worse solution can be reflected to become a better solution; concavities can be reflected in any line segment, but this more extreme form of fusion is much more likely to overfit the data. Another problem with TOC AUC is that reducing the TOC Curve to a single number ignores the fact that it is about the tradeoffs between the different systems or performance points plotted and not the performance of an individual system, as well as ignoring the possibility of concavity repair, so that related alternative measures such as Informedness or DeltaP are recommended. These measures are essentially equivalent to the Gini for a single prediction point with DeltaP' = informedness = 2AUC-1, whilst DeltaP = markedness represents the dual (viz. predicting the prediction from the real class) and their geometric mean is the Matthews correlation coefficient. Whereas TOC AUC varies between 0 and 1 \u2014 with an uninformative classifier yielding 0.5 \u2014 the alternative measures known as informedness, Certainty and Gini coefficient (in the single parameterization or single system case) all have the advantage that 0 represents chance performance whilst 1 represents perfect performance, and \u22121 represents the \"perverse\" case of full informedness always giving the wrong response. Bringing chance performance to 0 allows these alternative scales to be interpreted as Kappa statistics. Informedness has been shown to have desirable characteristics for machine learning versus other common definitions of Kappa such as Cohen kappa and Fleiss kappa. Sometimes it can be more useful to look at a specific region of the TOC curve rather than at the whole curve. It is possible to compute partial AUC. For example, one could focus on the region of the curve with low false positive rate, which is often of prime interest for population screening tests. Another common approach for classification problems in which P \u226a N (common in bioinformatics applications) is to use a logarithmic scale for the x-axis.Karplus, Kevin (2011); Better than Chance: the importance of null models, University of California, Santa Cruz, in Proceedings of the First International Workshop on Pattern Recognition in Proteomics, Structural Biology and Bioinformatics (PR PS BB 2011) ==References== ==Further reading== * * * * * * ==See also== * Brier score * Coefficient of determination * Constant false alarm rate * Detection error tradeoff * Detection theory * F1 score * False alarm * Precision and recall * ROCCET * Receiver operating characteristic ==External links== *An Introduction to the Total Operating Characteristic: Utility in Land Change Model Evaluation *How to run the TOC Package in R *TOC R package on Github *Excel Workbook for generating TOC curves Category:Boolean algebra Category:Detection theory Category:Data mining Category:Biostatistics Category:Statistical classification Category:Summary statistics for contingency tables ",
    "title": "Total operating characteristic"
}